<!DOCTYPE HTML>
<html lang="en">
    <head>
        <!-- Meta Tags -->
        <meta http-equiv="content-type"    content="text/html; charset=utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="keywords"              content="Fido, Yubikey, Cybersecurity, CISPA, Bachelor, Study">
        <meta name="viewport"              content="width=device-width, initial-scale=1">
        <meta name="author"                content="Florian Nawrath">

        <!-- Page Title -->
        <title>fido2-study</title>

        <!-- Page Icon -->
        <link rel="icon" sizes="64x64" href="./img/favicon.ico" type="image/ico"/>

        <!-- CSS Files -->
        <link rel="stylesheet" type="text/css" href="./css/bootstrap.min.css"/>
        <link rel="stylesheet" type="text/css" href="./css/custom.css"/>
        
	<!-- JS Files -->
        <script src="./js/jquery-3.2.1.min.js"      type="text/javascript"></script>
        <script src="./js/bootstrap.min.js"         type="text/javascript"></script>
        <script src="./js/logging.js"               type="text/javascript"></script>
    </head>
    <body>
        <noscript>Please enable Javascript to participate in this study </noscript>
        <div class="container mt-5">
            <div id="intro" class="jumbotron border border-success text-center">
                <div class="container">
                    <h3 class="text-success">Welcome to the study</h3>
                    In this study we <b>evaluate</b> the <b>technical support</b> for a new standardized user authentication mechanism called FIDO2/Webauthn. FIDO2/Webauthn is currently used by major websites such as Google, Twitter, Facebook and
		    many more to allow users to login with security hardware in addition or even without their passwords. This technology has been designed such that no private data whatsoever is sent to servers, including data that 
		    could be misused to track users. <br/>
			<br/>
		    <b>Your Tasks:</b> <br/>
		    <ol class="text-left">
		    <li><b>Enter your mTurk Worker ID </b> </li>
		    <li><b>Click the button "Register Security Key".</b> This will prompt a Browser or System dialogue. If you possess a Security Key please register it, otherwise you can click cancel. Cancelling will cause an error
			 which you can ignore. </li>
                    <li><b>Click the button "Register Security Device".</b> If your current device has an authentication method compatible with FIDO2, the System or Browser will prompt a dialogue, please register it then. 
			If your device does not have such a compatible authentication method, clicking the button will cause an error which you can ignore.</li>
		    <li>After you clicked both buttons the "Finish" button will appear. <b>Click the "Finish Button" </b>to receive your <b>Secret Key. </b> <br/> <b>Please copy the Secret Key before leaving the website as it is necessary
			for you, to receive payment </b> </li>
		    <li> <b>Afterwards follow the link to the survey as it is also necessary to receive payment!  </b> </li>
		    </ol>
                    The data we collect consist of your IP and time when you accessed the study (both of it will not be analyzed) as well as your mTurk Worker ID, the platform you use and if you were successful. <br/>
			<br/>
                    <div class="alert alert-warning fade show" role="alert"> 
                        This study creates cookies to store session data for this webpage. None of the data contained will be analyzed or saved on our site.
                    </div>
                </div>
            </div>
            <div id="task1" class="jumbotron border border-success">
                <div class="container text-center">
                    <h3 class="text-success">Task 1</h3>
                    <p class="text-left text-muted">
                        Please enter your mTurk Worker ID here.
                        You can find it <a href="https://worker.mturk.com/tasks">on this page</a> in the top left corner.
                    </p>
                    <label for="username"></label>
                    <input type="text" class="form-control" id="username" name="username" placeholder="mTurk Worker ID">
                </div>
            </div>
            <div id="task2" class="jumbotron border border-success">
                <div class="container text-center">
                    <h3 class="text-success">Task 2</h3>
                    <p class="text-left text-muted">
                        Click on the button below. If you own a
                        <a href="https://en.wikipedia.org/wiki/FIDO_Alliance">FIDO</a>-compatible security device (eg.
                        <a href="https://en.wikipedia.org/wiki/YubiKey">Yubikey</a>, ...) please try to register it.
                        Otherwise if you do not have such a device available please click the button anyway before
                        proceeding. This will be necessary to validate that you tried.
                    </p>
                    <button type="button" id="seckey" onclick="isSecurityDeviceClicked=true; showfinish();" class="btn btn-primary">
                        Register Security Key
                    </button>
		    <p id="mSec"> </p>
                </div>
            </div>
            <div id="task3" class="jumbotron border border-success">
                <div class="container text-center">
                    <h3 class="text-success">Task 3</h3>
                    <p class="text-left text-muted">
                        Click on the button below. If you own a
                        <a href="https://en.wikipedia.org/wiki/FIDO_Alliance">FIDO</a>-compatible security device (eg.
                        <a href="https://en.wikipedia.org/wiki/Windows_10#System_security">Windows Hello</a>, Fingerprint
                        Sensor, FaceUnlock, ...) please try to register it. Otherwise if you do not have such a device available please
                        click the button anyway before proceeding. This will be necessary to validate that you tried.
                    </p>
                    <button type="button" id="fingerprint" onclick="isFingerprintClicked=true; showfinish();" class="btn btn-primary">
                        Register Security Device
                    </button>
		    <p id="mDev"> </p>
                </div>
            </div>
            <div id="finish" class="jumbotron border border-success" >
                <div class="container text-center">
                    <h3 class="text-success">Finish</h3>
                    <p class="text-left text-muted">
                        Click on "Finish" to submit the collected data and recieve your "Secret Key".<br/>
			<b>If no "Secret Key" is displayed, please follow the instructions in the error message below!<b> <br/>
                        <b> No private or sensitive data will be send to the server!</b>
                    </p>
                    <button id="fin" type="submit" onclick="sendLog()" class="btn btn-success">Finish</button>
                    <div id="thankyou" class="alert alert-success alert-dismissible fade" role="alert">
                        <h4 class="alert-heading">Thank you for participating!</h4>
			<strong id="code"></strong>
			<br/>
			<p id="surveylink"> After copying your "Secret Key" please proceed to the final part of the study, linked below: <br/>
			<a href="https://userstudies.cispa.saarland/limesurvey/index.php/925725?lang=en" target="_blank">Link to the Survey</a> </p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- JS Files -->
        <script src="./js/base64url-arraybuffer.js" type="text/javascript"></script>
        <script src="./js/utils.js"                 type="text/javascript"></script>
        <script src="./js/webauthn.auth.js"         type="text/javascript"></script>
    </body>
</html>
